# Entity, Repository, DTO, DAO

<p align="center">
    <img src="Spring/img/Entity_Repository_DTO_DAO.png" width="600">
</p>

### ✅ Client

- Client는 화면에 보이는 영역을 생각하면 된다.

### ✅ Controller

- 사용자가 예를 들어 회원가입 폼에 작성한 id, 이름, pw, email 주소에 대한 정보를 DTO 객체에 담아서 Controller로 회원가입 요청을 한다고 가정해보자.
- 컨트롤러는 DTO 객체에 담겨진 내용을 바탕으로 어떤 요청인지 판단 후 적합한 서비스로 DTO 객체를 전달한다.

### ✅ Service

- 서비스는 비즈니스 로직의 전반적인 내용을 처리하는 영역
- 회원가입을 예로 들면, 회원가입에 필요한 내용들을 서비스 객체 내부에서 처리한다.
  - 데이터베이스에 회원가입 테이블을 따로 만들어두지 않는다.
  - 회원정보에 회원을 하나 추가하는 개념이기 때문에 회원가입 시 받은 4가지의 정보(id, 이름, pw, email 주소) 뿐만 아니라 가입일이나 멤버 등급과 같은 정보도 회원정보에 포함되어야 한다.
  - 이러한 추가적인 정보는 사용자가 미리 회원가입 폼에서 입력하고 회원가입을 하는 것이 아니고 서비스 객체에서 처리를 담당한다.
- 서비스 객체에서는 DTO로부터 받은 내용에 추가로 데이터를 덧붙이거나 빼는 작업을 한 뒤 엔티티라는 객체를 만든다.

### ✅ Entity

- 데이터베이스 테이블에 맵핑되는 데이터베이스와 가장 가까운 객체

### ✅ DAO

- DB와 직접 통신을 하는 영역인데, 엔티티에 있는 값을 그대로 DB에 저장하거나 가져오는 작업을 수행한다.

### ✅ ServiceImpl, DAOImpl

- 일반적으로 서비스와 DAO는 클래스로 만들지 않고, 인터페이스로 생성한다. 그래서 실제 비즈니스 로직이 들어간 부분은 인터페이스를 상속받은 Implementation 클래스 객체이다.

<br/>
<br/>

## 자세하게 살펴보기

### ✅ Entity

- 데이터베이스에 쓰일 컬럼과 여러 엔티티 간의 연관관계를 정의
- 데이터베이스의 테이블을 하나의 엔티티로 생각해도 괜찮다.
- 실제 데이터베이스의 테이블과 1:1로 매핑된다.
- 엔티티 클래스의 필드는 각 테이블 내부의 컬럼을 의미한다.

### ✅ Repository

- Entity에 의해 생성된 데이터베이스에 접근하는 메서드를 사용하기 위한 인터페이스
  - **JPA**도 레포지토리이다.
  - **JPA** 인터페이스를 사용하면 데이터베이스에 접근할 수 있는 기본 메서드를 제공한다.
- 서비스와 DB를 연결하는 고리의 역할을 수행
- 데이터베이스에 적용하고자 하는 CRUD를 정의하는 영역

### ✅ DAO

- Data Access Object
- 데이터베이스에 접근하는 객체를 의미 (Persistance Layer)
- 레포지토리와 마찬가지로 서비스가 DB에 연결할 수 있게 해주는 역할을 수행
- 접근하는 본질은 레포지토리가 가지고 있고, 메서드를 활용해주는 것이 DAO다! 따라서 직접적으로 사용하는 것은 DAO 객체이다.
- DB를 사용해서 데이터를 조회하거나 조작하는 기능을 전담

### ✅ DTO

- Data Transfer Object
- VO(Value Object)로 불리기도 하며, 계층간 데이터 교환을 위한 객체를 의미
  - 계층 간 데이터 교환은 클라이언트에서 컨트롤러, 컨트롤러에서 서비스로 데이터를 옮겨주기 위해 사용되는 객체라고 이해하면 된다.
  - 엔티티는 데이터베이스와 동일하게 만들어진 클래스를 말한다.
  - DTO는 엔티티와 같은 필드 값을 가질 수는 있지만, 서비스에서 더 추가하거나 빼는 작업을 할 수 있기 때문에 데이터베이스의 컬럼과는 독립적이라고 볼 수 있다.
- VO는 Read Only의 개념을 가지고 있다.

<br/>
<br/>

### Reference

[어라운드 허브 스튜디오](https://youtu.be/4Pvd0KrTfvE)